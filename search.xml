<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[Nettyç”¨æˆ·æŒ‡å—4.x]]></title>
      <url>%2F2017%2F03%2F27%2FNetty%E6%8C%87%E5%8D%97%E4%B8%AD%E6%96%87%E7%89%88%2F</url>
      <content type="text"><![CDATA[based on User guide for 4.x åºè¨€ Preface é—®é¢˜ The Problem å¦‚ä»Šæˆ‘ä»¬ä½¿ç”¨é€šç”¨çš„åº”ç”¨ç¨‹åºæˆ–è€…åº“æ¥å½¼æ­¤é€šè®¯ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ HTTP å®¢æˆ·ç«¯åº“ä»Žè¿œç¨‹æœåŠ¡å™¨æŽ¥æ”¶ä¿¡æ¯æˆ–è€…æ‰§è¡Œè¿œç¨‹æœåŠ¡çš„è°ƒç”¨ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œä¸€ä¸ªé€šç”¨çš„åè®®æˆ–è€…å®ƒä»¬çš„å®žçŽ°æœ‰æ—¶å€™å¯ç”¨æ€§ä¸æ˜¯å¤ªå¥½ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸ä½¿ç”¨é€šç”¨çš„ HTTP åè®®æ¥äº¤æ¢å¤§æ•°æ®ã€ç”µå­é‚®ä»¶ä¿¡æ¯ä»¥åŠé‡‘èžæ•°æ®å’Œå¤šäººç½‘ç»œæ¸¸æˆæ•°æ®è¿™ç§è¿‘å®žæ—¶çš„æ•°æ®ã€‚æ‰€éœ€è¦çš„æ˜¯ä¸ºäº†ä¸€ä¸ªä¸“é—¨çš„ç›®çš„åŽ»å®žçŽ°ä¸€ä¸ªé«˜åº¦ä¼˜åŒ–çš„åè®®ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½éœ€ä¸ºäº†åŸºäºŽ AJAX çš„èŠå¤©åº”ç”¨ï¼Œåª’ä½“ä¼ è¾“ï¼Œæˆ–è€…å¤§æ–‡ä»¶ä¼ è¾“åŽ»å®žçŽ°ä¸€ä¸ªä¼˜åŒ–çš„ HTTP æœåŠ¡ã€‚ä½ ç”šè‡³å¯ä»¥ä¸ºäº†ä½ çš„éœ€æ±‚åŽ»ç²¾ç¡®çš„å®šä¹‰å¹¶å®žçŽ°ä¸€ä¸ªå…¨æ–°çš„åè®®ã€‚å¦å¤–ä¸€ä¸ªç»å¸¸å‘ç”Ÿçš„æƒ…å†µæ˜¯ä½ å¿…é¡»åŽ»å¤„ç†ç³»ç»Ÿä¸­é—ç•™çš„ä¸“é—¨åè®®åŽ»ç¡®ä¿ä¸Žæ—§ç³»ç»Ÿçš„äº¤äº’ã€‚è¿™ç§æƒ…å†µä¸‹é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•èƒ½å¤Ÿå¿«é€Ÿçš„å®žçŽ°è¯¥åè®®ï¼Œå¹¶ä¸”ä¸ä¼šç‰ºç‰²åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚ è§£å†³æ–¹æ¡ˆ The Solution Netty æ˜¯ä¸€ä¸ªæä¾›äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨ (asynchronous event-driven) ç½‘ç»œåº”ç”¨ç¨‹åºæ¡†æž¶å’Œå·¥å…·çš„æ°ä½œï¼Œå¯ä»¥ç”¨æ¥å¿«é€Ÿå¼€å‘å¯ç»´æŠ¤çš„ï¼Œé«˜æ€§èƒ½ Â· é«˜å¯ç”¨çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åè®®ã€‚ ä»Žå¦ä¸€æ–¹é¢æ¥è®²ï¼ŒNetty æ˜¯ä¸€ä¸ªå¯ä»¥å¿«é€Ÿå¼€å‘ç½‘ç»œç¨‹åºå¦‚å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åè®®çš„ NIO å®¢æˆ·ç«¯/æœåŠ¡ç«¯æ¡†æž¶ã€‚å®ƒå¤§å¤§çš„ç®€åŒ–äº†å¦‚ TCP å’Œ UDP è¿™ç±»å¥—æŽ¥å­—æœåŠ¡çš„ç½‘ç»œåº”ç”¨ç¨‹åºçš„å¼€å‘å¹¶ä¼˜åŒ–äº†å…¶å¼€å‘æµç¨‹ã€‚ â€œå¿«é€Ÿç®€å•â€å¹¶ä¸æ„å‘³ç€å¼€å‘å‡ºçš„åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§å˜å·®æˆ–è€…é‡åˆ°æ€§èƒ½é—®é¢˜ã€‚ Netty ä»Žå¤§é‡çš„å¦‚ FTPã€SMPTã€HTTP ä»¥åŠå„ç§äºŒè¿›åˆ¶æ–‡æœ¬ä¼ è¾“åè®®çš„å®žçŽ°ä¸­èŽ·å¾—ç»éªŒï¼Œå¹¶ç²¾å¿ƒè®¾è®¡ã€‚å› æ­¤ï¼Œ Netty æˆåŠŸçš„èŽ·å¾—äº†å¯ä»¥å¿«é€Ÿå¼€å‘ï¼Œå¹¶ä¸”ä¸å¦¥åæ€§èƒ½ã€ç¨³å®šæ€§ä»¥åŠçµæ´»æ€§çš„æ–¹æ³•ã€‚ ä¸€äº›ç”¨æˆ·ç”¨æˆ·æˆ–è€…å‘çŽ°è¿‡å…¶ä»–ä¸€äº›ç½‘ç»œåº”ç”¨æ¡†æž¶ä¹Ÿå£°ç§°æœ‰ä»¥ä¸Šä¼˜åŠ¿ï¼Œå¯èƒ½ä¼šæƒ³é—® Netty å’Œå®ƒä»¬æœ‰ä½•ä¸åŒã€‚ç­”æ¡ˆæ˜¯ï¼Œè®¾è®¡å“²å­¦ã€‚ Netty ä»Žä¸€å¼€å§‹å°±è®¾è®¡å¾—ä¸ºä½ æä¾›èˆ’é€‚çš„ API åŠå®žçŽ°ã€‚è¿™ä¸æ˜¯ä»€ä¹ˆå¯æ„ŸçŸ¥çš„äº‹åŠ¡ï¼Œä½†ä½ ä¼šæ„è¯†åˆ°è¿™äº›è®¾è®¡å“²å­¦è®©ä½ çš„ç”Ÿæ´»å˜å¾—æ›´ç®€å•ï¼Œå°±åƒä½ å¼€å§‹é˜…è¯»è¿™ä»½æŒ‡å—ï¼Œå¹¶ä¸”å¼€å§‹è½»æ¾ä½¿ç”¨ Netty ã€‚ å¼€å§‹ Getting Started æœ¬ç« æŒ‡å—å›´ç»•ç€ Netty çš„æ ¸å¿ƒç»“æž„ï¼Œæ®ä¸€äº›ç®€å•çš„ä¾‹å­ï¼Œè®©ä½ è½»æ¾å¼€å§‹ã€‚æœ¬ç« ç»“æŸåŽï¼Œä½ å°†å¯åœ¨ Netty ä¹‹ä¸Šç¼–å†™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚ å¦‚æžœä½ å­¦ä¹ ä¸œè¥¿çš„æ—¶å€™å–œæ¬¢ä½¿ç”¨è‡ªä¸Šè€Œä¸‹åˆ†æžæ³•ï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸å¯ä»¥ä»Žç¬¬äºŒç« ï¼Œæž¶æž„æ€»è§ˆå¼€å§‹ï¼Œç„¶åŽå›žåˆ°è¿™é‡Œã€‚ å¼€å§‹ä¹‹å‰ Before Getting Started è¦æƒ³è¿è¡Œæœ¬ç« ä¸­æ‰€å¼•å…¥çš„ä¾‹å­ï¼Œéœ€è¦ä¸¤ä¸ªæœ€å°çš„ä¾èµ–ï¼šNetty æœ€æ–°çš„ç¨³å®šç‰ˆ å’Œ JDK 1.6 æˆ–è€…æ›´æ–°ã€‚Netty æœ€æ–°çš„ç¨³å®šç‰ˆå¯ä»¥ä»Ž é¡¹ç›®ä¸‹è½½é¡µé¢ ä¸‹è½½ã€‚å¯ä»¥ä»Ž JDK ä¾›åº”å•†çš„ç½‘ç«™ä¸‹è½½æ­£ç¡®ç‰ˆæœ¬çš„ JDK ã€‚ åœ¨ä½ é˜…è¯»çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½å¯¹æœ¬ç« ä¸­å¼•å…¥çš„ç±»æœ‰ä¸€äº›ç–‘é—®ã€‚å¦‚æžœä½ æƒ³çŸ¥é“å®ƒä»¬å¯ä»¥å‚è€ƒ API æ–‡æ¡£ã€‚ä¸ºäº†ä½ çš„æ–¹ä¾¿ï¼Œæ–‡æ¡£ä¸­æ‰€æœ‰çš„ç±»åéƒ½æ˜¯å¼•ç”¨çš„åœ¨çº¿ API æ–‡æ¡£ã€‚å½“ç„¶äº†ï¼Œå¦‚æžœæœ¬æ–‡æ¡£ä¸­æœ‰ä»»ä½•é”™è¯¯ä¿¡æ¯ï¼Œä»¥åŠè¯­æ³•å’Œæ‰“å°ä¸­çš„é”™è¯¯ï¼Œæˆ–è€…ä½ æœ‰ä»€ä¹ˆå®Œå–„æœ¬æ–‡æ¡£çš„å¥½çš„å»ºè®®ï¼Œå¯ä»¥è”ç³»Nettyé¡¹ç›®ç¤¾åŒºã€‚ å†™ä¸€ä¸ª Discard æœåŠ¡ Writing a Discard Server ä¸–ç•Œä¸Šæœ€ç®€å•çš„åè®®æ˜¯ DISCARD ï¼Œè€Œä¸æ˜¯ &quot;Hello,World!&quot;ã€‚è¯¥åè®®ä¸¢å¼ƒä»»ä½•æ”¶åˆ°çš„æ•°æ®è€Œä¸åšä»»ä½•å›žåº”ã€‚ è¦å®žçŽ° DISCARD åè®®ï¼Œä½ å”¯ä¸€è¦åšçš„äº‹æƒ…å°±æ˜¯å¿½ç•¥ä»»ä½•æ”¶åˆ°çš„æ¶ˆæ¯ã€‚è®©æˆ‘ä»¬ç›´æŽ¥ä»Žä¸€ä¸ª handler çš„å®žçŽ°å¼€å§‹ï¼Œhandler æ˜¯ Netty ç”Ÿæˆçš„ç”¨æ¥å¤„ç† I/O äº‹ä»¶çš„ã€‚ 12345678910111213141516171819202122232425package io.netty.example.discard;import io.netty.buffer.ByteBuf;import io.netty.channel.ChannelHandlerContext;import io.netty.channel.ChannelInboundHandlerAdapter;/** * å¤„ç†ä¸€ä¸ªæœåŠ¡ç«¯çš„ channelã€‚ */public class DiscardServerHandler extends ChannelInboundHandlerAdapter &#123; // (1) @Override public void channelRead(ChannelHandlerContext ctx, Object msg) &#123; // (2) // é»˜é»˜çš„ä¸¢å¼ƒæ”¶åˆ°çš„æ•°æ®ã€‚ ((ByteBuf) msg).release(); // (3) &#125; @Override public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) &#123; // (4) // å½“å¼•å‘å¼‚å¸¸æ—¶å…³é—­è¿žæŽ¥ã€‚ cause.printStackTrace(); ctx.close(); &#125;&#125; DiscardServerHandler ç»§æ‰¿è‡ª ChannelInboundHandlerAdapterï¼Œè¯¥ç±»å®žçŽ°äº† ChannelInboundHandler .ChannelInboundHandler æŽ¥å£ï¼Œæä¾›äº†å¤šç§äº‹ä»¶å¤„ç†æ–¹æ³•ï¼Œä½ å¯ä»¥é‡å†™è¿™äº›æ–¹æ³•ã€‚çŽ°åœ¨ï¼Œä½ åªéœ€è¦ç»§æ‰¿ ChannelInboundHandlerAdapter ,è€Œæ— éœ€è‡ªå·±å®žçŽ°æŽ¥å£ä¸­çš„å¤„ç†æ–¹æ³•ã€‚ æˆ‘ä»¬é‡å†™äº† channelRead() æ–¹æ³•ã€‚æ— è®ºä½•æ—¶ä»Žå®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œè¯¥æ–¹æ³•è¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ”¶åˆ°çš„æ¶ˆæ¯ç±»åž‹æ˜¯ ByteBuf ä¸ºäº†å®žçŽ° DISCARD åè®®ï¼Œè¯¥å¤„ç†å™¨å¿…é¡»å¿½ç•¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚ ByteBuf æ˜¯ä¸€ä¸ªå¼•ç”¨è®¡æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å¿…é¡»æ˜¾å¼çš„è°ƒç”¨ release() æ–¹æ³•æ¥é‡Šæ”¾èµ„æºã€‚è¯·è°¨è®°ï¼Œä»»ä½•ä¼ é€’åˆ°å¤„ç†å™¨å¼•ç”¨è®¡æ•°å¯¹è±¡ï¼Œå¤„ç†å™¨éƒ½æœ‰è´£ä»»å°†å…¶é‡Šæ”¾æŽ‰ã€‚é€šå¸¸ï¼Œ channelRead() æ–¹æ³•çš„å®žçŽ°å¦‚ä¸‹ï¼š 12345678@Overridepublic void channelRead(ChannelHandlerContext ctx, Object msg) &#123; try &#123; // Do something with msg &#125; finally &#123; ReferenceCountUtil.release(msg); &#125;&#125; å½“ Netty çŠ¹è±« I/O é”™è¯¯æˆ–è€…å¤„ç†å™¨å¤„ç†äº‹ä»¶æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¼è‡´ Throwable å¯¹è±¡å‡ºçŽ°æ—¶ï¼ŒexceptionCaught() æ–¹æ³•è¢«è°ƒç”¨ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¡¥è´§åˆ°çš„å¼‚å¸¸åº”è¯¥è¢«è®°å½•ï¼Œä¸Žå…¶ç›¸å…³çš„ channle ä¹Ÿåº”è¯¥åœ¨è¿™å„¿è¢«å…³é—­ï¼Œå½“ç„¶äº†ï¼Œè¯¥æ–¹æ³•çš„å®žçŽ°ä¹Ÿä¼šå› ä½ çš„ä¸åŒå¼‚å¸¸å¤„ç†æ–¹æ¡ˆè€Œä¸åŒã€‚æ¯”å¦‚ï¼Œä½ ä¹Ÿè®¸æƒ³åœ¨å…³é—­è¿žæŽ¥ä¹‹å‰å‘é€ä¸€ä¸ªåŒ…å«é”™è¯¯ä»£ç çš„å“åº”æ¶ˆæ¯ã€‚ ç›®å‰æ¥è¯´ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œæˆ‘ä»¬å®žçŽ°äº† DISCARD æœåŠ¡çš„ä¸€èˆ¬ã€‚çŽ°åœ¨å‰©ä¸‹æˆ‘ä»¬åŽ»åœ¨ DiscardServerHandler ä¸­å†™ä¸€ä¸ª main() æ–¹æ³•æ¥å¯åŠ¨æœåŠ¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package io.netty.example.discard;import io.netty.bootstrap.ServerBootstrap;import io.netty.channel.ChannelFuture;import io.netty.channel.ChannelInitializer;import io.netty.channel.ChannelOption;import io.netty.channel.EventLoopGroup;import io.netty.channel.nio.NioEventLoopGroup;import io.netty.channel.socket.SocketChannel;import io.netty.channel.socket.nio.NioServerSocketChannel;/** * ä¸¢å¼ƒä»»ä½•è¿›æ¥çš„æ•°æ®ã€‚ */public class DiscardServer &#123; private int port; public DiscardServer(int port) &#123; this.port = port; &#125; public void run() throws Exception &#123; EventLoopGroup bossGroup = new NioEventLoopGroup(); // (1) EventLoopGroup workerGroup = new NioEventLoopGroup(); try &#123; ServerBootstrap b = new ServerBootstrap(); // (2) b.group(bossGroup, workerGroup) .channel(NioServerSocketChannel.class) // (3) .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() &#123; // (4) @Override public void initChannel(SocketChannel ch) throws Exception &#123; ch.pipeline().addLast(new DiscardServerHandler()); &#125; &#125;) .option(ChannelOption.SO_BACKLOG, 128) // (5) .childOption(ChannelOption.SO_KEEPALIVE, true); // (6) // ç»‘å®šç«¯å£å¹¶ä¸”å¼€å§‹æœåŠ¡æŽ¥æ”¶è¿›æ¥çš„è¿žæŽ¥ã€‚ ChannelFuture f = b.bind(port).sync(); // (7) // ç­‰å¾… server socket å…³é—­ã€‚ // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ä¼šå‘ç”Ÿï¼Œä½†ä½ å¯ä»¥è¿™æ ·ä¼˜é›…çš„å…³é—­ä½ çš„æœåŠ¡ã€‚ f.channel().closeFuture().sync(); &#125; finally &#123; workerGroup.shutdownGracefully(); bossGroup.shutdownGracefully(); &#125; &#125; public static void main(String[] args) throws Exception &#123; int port; if (args.length &gt; 0) &#123; port = Integer.parseInt(args[0]); &#125; else &#123; port = 8080; &#125; new DiscardServer(port).run(); &#125;&#125; NioEventLoopGroup æ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç† I/O æ“ä½œçš„å¤šçº¿ç¨‹äº‹ä»¶å¾ªçŽ¯å™¨ã€‚ Netty ä¸ºä¸åŒç±»åž‹ä¼ è¾“æä¾›äº†å„ç§å„æ ·çš„ EventLoopGroup çš„å®žçŽ°ã€‚è¿™ä¸ªä¾‹å­æˆ‘ä»¬å®žçŽ°äº†ä¸€ä¸ªæœåŠ¡ç«¯çš„åº”ç”¨ï¼Œå£°æ˜Žäº†ä¸¤ä¸ª NioEventLoopGroup å®žä¾‹ã€‚ç¬¬ä¸€ä¸ªï¼Œé€šå¸¸ç§°ä¸º &quot;boss&quot;,ç”¨æ¥æŽ¥æ”¶è¿›æ¥çš„è¿žæŽ¥ã€‚ç¬¬äºŒä¸ªï¼Œé€šå¸¸ç§°ä¸º &quot;worker&quot;, ç”¨æ¥å¤„ç†æŽ¥æ”¶åˆ°è¿žæŽ¥ï¼Œä¸€æ—¦ boss æŽ¥æ”¶åˆ°è¿žæŽ¥ï¼Œå°±å°†å…¶æ³¨å†Œåˆ° worker ä¸Šã€‚ä½¿ç”¨å¤šå°‘ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•å°†å…¶æ˜ å°„åˆ°å·²ç»åˆ›å»ºå¥½çš„ channelS ä¾èµ–äºŽ EventLoopGroup çš„å®žçŽ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æž„é€ æ–¹æ³•è¿›è¡Œé…ç½®ã€‚ ServerBootstrap æ˜¯ä¸€ä¸ªå»ºç«‹ server çš„è¾…åŠ©ç±»ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ Channel ç›´æŽ¥å»ºç«‹ä¸€ä¸ª serverã€‚ä½†è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªéžå¸¸å†—é•¿çš„è¿‡ç¨‹ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä½ å¹¶ä¸éœ€è¦è¿™ä¹ˆåšã€‚ åœ¨è¿™å„¿ï¼Œæˆ‘ä»¬æŒ‡å®šä½¿ç”¨ NioServerSocketChannel ç±»æ¥å®žä¾‹åŒ–ä¸€ä¸ªæ–°çš„ Channel æ¥æŽ¥æ”¶è¿›æ¥çš„è¿žæŽ¥ã€‚ åœ¨è¿™å„¿æŒ‡å®šçš„å¤„ç†å™¨é€šå¸¸ç”±æ–°æŽ¥æ”¶çš„ Channel è¿›è¡Œè¯„ä¼°ã€‚ChannelInitializer æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¤„ç†å™¨ï¼Œç”¨æ¥å¸®åŠ©ç”¨æˆ·é…ç½®ä¸€ä¸ªæ–°çš„ Channelã€‚å¾ˆå¯èƒ½ä½ ä¼šæƒ³é€šè¿‡æ·»åŠ å¤„ç†å™¨,å¦‚ DiscardServerHandler ,æ¥é…ç½®æ–° Channel çš„ ChannelPipeline ,ç”¨æ¥å®žçŽ°ä½ çš„ç½‘ç»œåº”ç”¨ã€‚éšç€åº”ç”¨å˜å¾—å¤æ‚ï¼Œä½ ä¼šå¾€ç®¡é“æ·»åŠ æ›´å¤šçš„å¤„ç†å™¨ï¼Œæœ€ç»ˆä½ å¯èƒ½ä¼šæŠŠè¿™ä¸ªåŒ¿åç±»æå–ä¸ºä¸€ä¸ªå•ç‹¬çš„ç±»ã€‚ ä½ å¯ä»¥è®¾ç½®æŒ‡å®š Channel å®žçŽ°çš„ç‰¹å®šå‚æ•°ã€‚æˆ‘ä»¬åœ¨å†™ä¸€ä¸ª TCP/IP æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€äº› socket çš„é€‰é¡¹ï¼Œæ¯”å¦‚ tcpNoDelay å’Œ keepAlive ã€‚è¯·å‚ç…§ ChannelOption API æ–‡æ¡£ä»¥åŠç‰¹å®šçš„ ChannelConfig å®žçŽ°ï¼Œä»¥èŽ·å¾—æœ‰å…³ ChannelOptionS æ”¯æŒçš„æ¦‚è¿°ã€‚ ä½ æœ‰æ³¨æ„åˆ° option() å’Œ childOption æ–¹æ³•äº†å—ï¼Ÿ option() æ˜¯ä¸º NioServerSocketChannel ç”¨æ¥æŽ¥æ”¶è¿›æ¥çš„è¿žæŽ¥ã€‚ childOption() æ˜¯ä¸ºè¢«çˆ¶é€šé“ ServerChannel æŽ¥æ”¶åˆ°çš„ ChannelS ï¼Œåœ¨æœ¬ä¾‹ä¸­æŒ‡çš„æ˜¯ NioServerSocketChannelã€‚ æˆ‘ä»¬çŽ°åœ¨å·²ç»å‡†å¤‡å¥½äº†ã€‚å‰©ä¸‹çš„å°±æ˜¯ç»‘å®šç«¯å£å’Œå¯åŠ¨æœåŠ¡äº†ã€‚åœ¨è¿™å„¿ï¼Œæˆ‘ä»¬ç»‘å®šäº†æœºå™¨æ‰€æœ‰ç½‘å¡çš„ 8080 ç«¯å£ã€‚ä½ çŽ°åœ¨å¯ä»¥è°ƒç”¨å¤šæ¬¡ bind() æ–¹æ³•ï¼ˆç”¨ä¸åŒçš„ç»‘å®šåœ°å€ï¼‰ã€‚ æ­å–œä½ ï¼ä½ å·²ç»åŸºäºŽ Netty å®Œæˆé‡Œä½ çš„ç¬¬ä¸€ä¸ªæœåŠ¡ç«¯ç¨‹åºã€‚ &lt;æœªå®Œå¾…ç»­&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸ºä»€ä¹ˆè¦é€ è½®å­]]></title>
      <url>%2F2017%2F03%2F06%2F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%80%A0%E8%BD%AE%E5%AD%90%2F</url>
      <content type="text"><![CDATA[å½“æˆ‘åœ¨ oschina.net ä¸Šä»¥ java orm ä½œä¸ºå…³é”®è¯è¿›è¡Œæœç´¢çš„æ—¶å€™ï¼Œå…±æ‰¾åˆ°529æ¡ç»“æžœã€‚é‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆè¿˜æ˜¯è¦å†™ ur-orm å‘¢ï¼Ÿ ä¸ŽDBäº¤äº’çš„æ—¶å€™ï¼Œåªæƒ³è°ƒç”¨ä¸€ä¸ªæ–¹æ³•å°±è¡Œäº† è™½ç„¶çœ‹ä¸ŠåŽ»ä¸å¤Ÿé«˜å¤§ä¸Šï¼Œä½†åœ¨ä»£ç é‡Œå†™sqlæ„Ÿè§‰å°±æ˜¯èˆ’æœå‘€ðŸ˜Œ ä¸ŽæŸ¥è¯¢çš„æ—¶å€™è¿”å›žä¸ªå¯¹è±¡ç”¨èµ·æ¥éåŽ†ï¼Œå½“ç„¶äº†ï¼Œè¿™ä¹Ÿæ˜¯ ORM æ¡†æž¶æœ€èµ·ç è¦å®žçŽ°çš„ è½»é‡çº§ï¼Œè½»é‡çº§ï¼Œè¿˜æ˜¯è½»é‡çº§ã€‚åœ¨å¤§å®¶éƒ½åœ¨è¯´è½»é‡çº§çš„æ—¶å€™ï¼Œè¦åšåˆ°çœŸæ­£ä½†è½»é‡çº§ï¼Œæ¢ORMçš„æ—¶å€™ï¼Œåªä¼šè§‰å¾—å½“å‰çš„ä»£ç ä¸å¤Ÿç”¨ï¼Œè€Œä¸æ˜¯å‘çŽ°å½“å‰çš„ä¸€å †é…ç½®ï¼Œä»£ç æ˜¯å¤šä½™çš„ï¼Œå¯¹å¦ä¸€ä¸ªæ¡†æž¶æ¥è¯´ã€‚å½“ç„¶äº†ï¼Œè¿™æœ‰ç‚¹å„¿åæ¿€ã€‚ é‡è¦çš„æ˜¯ï¼Œè¦å¯¹å‘³å„¿ã€‚ ç”¨äº†å¥½å¤šå¹´çš„ MyBatis äº†ï¼Œè‡³ä»Šè¿˜æ˜¯è§‰å¾—è¿™æ˜¯ä¸ªå¥½çš„æ¡†æž¶ï¼Œä½†å®žåœ¨ä¸æƒ³åœ¨é¡¹ç›®å¼€å§‹çš„æ—¶å€™å…ˆæ¥ä¸€æ‹–å®ƒçš„é…ç½®ï¼Œä¸ç®¡æ˜¯ resultMap è¿˜æ˜¯å…¶å®ƒã€‚ JPA è®© Java å¼€å‘æœ‰äº†ç‚¹å„¿æ•æ·çš„æ„æ€äº†ï¼Œä½†æœ‰æ—¶å€™å°è£…çš„å¤ªæ·±ï¼Œç”¨èµ·æ¥è®©äººä¸çŸ¥æ‰€æŽªã€‚ å½“ç„¶äº†ï¼Œè¿™ä¸ªè½®å­ï¼Œè¯´ä¸å®šå“ªå¤©ä¹Ÿä¼šå˜å¾—è®©äººåˆçˆ±åˆæ¨ã€‚ðŸ˜„]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è¦åšçš„äº‹æƒ…]]></title>
      <url>%2F2017%2F03%2F03%2F%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B%E6%83%85%2F</url>
      <content type="text"><![CDATA[æœ‰å¾ˆå¤šäº‹æƒ…è¦åšï¼ŒæŠŠä»–ä»¬åˆ—ä¸‹æ¥ side project ur-orm å­¦ä¹  vue.js netty è‹±è¯­ è¯»ä¹¦ ä¸‰ä½“ javaè™šæ‹Ÿæœºè§„èŒƒ å“åº”å¼webè®¾è®¡ äº§å‡º gitç»ƒä¹ ä»£ç æäº¤ å­¦ä¹ ç¬”è®° ä¸ºä»€ä¹ˆè¦å­¦å‰ç«¯ ä½œä¸ºä¸€ä¸ªä¸€ç›´åœ¨å†™åŽæ®µä»£ç çš„äººï¼Œæœ‰ç€ä¸€é¢—äº§å“çš„â¤ï¸ï¼Œæƒ³è¦æŠŠè‡ªå·±çš„ideaå±•ç¤ºå‡ºæ¥å¯ä¸æ˜¯çœ‹ç€ terminal ä¸­åº”ç”¨å¯åŠ¨æˆåŠŸäº†å°±è¡Œäº†çš„ã€‚ æ—¶é—´è¿‡çš„å¾ˆå¿«ï¼Œ2017å¹´çš„1/6åˆæ²¡äº†]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Hexoéƒ¨ç½²ç¬”è®°]]></title>
      <url>%2F2017%2F03%2F01%2FHexo%E9%83%A8%E7%BD%B2%E7%AC%94%E8%AE%B0%2F</url>
      <content type="text"><![CDATA[ä¸»é¢˜é€‰æ‹© hexo-theme-apollo ç½‘ä¸Šæ‰¾äº†ä¸ªæ°´æ»´çš„å›¾æ ‡ï¼Œå¥½çœ‹ï¼Œä¸€ç‚¹ç‚¹å¯“æ„ã€‚ å¤šå®¢æˆ·ç«¯å†™æ–‡ç« çš„é—®é¢˜ hexo d æ‰§è¡ŒåŽ hexo å°† hexo g ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹ä¸‹çš„é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œå…¶å®ƒ hexo çŽ¯å¢ƒç›¸å…³çš„å†…å®¹åˆ™è¿˜åœ¨æœ¬æœºä¸Šï¼Œè¿™æ ·åŠ¿å¿…å¯¼è‡´ä¹‹å‰è¾›è‹¦è£…çš„ä¸€ç³»åˆ—æ’ä»¶ï¼Œä¸»é¢˜ä¹‹ç±»çš„ä¸œè¥¿æ²¡æœ‰åŠžæ³•åŒæ­¥åˆ°å…¶å®ƒæœºå™¨ä¸Šï¼Œæ›´æ¢ç”µè„‘æ˜¯ä»¶éº»çƒ¦äº‹ã€‚ æš‚ä¸”æƒ³åˆ°é›†ä¸­è§£å†³æ–¹æ¡ˆ ä½¿ç”¨ dropboxï¼ŒOneDriver ä¹‹ç±»çš„æ–‡ä»¶åŒæ­¥æœåŠ¡åŒæ­¥æºæ–‡ä»¶ å¦å¤–å»ºä¸€ä¸ªrepoåŒæ­¥æºæ–‡ä»¶ ç½‘ç»œä¸Šè¿˜æœ‰ä¸€ç§å°†æºæ–‡ä»¶æäº¤åˆ°æ–°åˆ†æ”¯çš„åšæ³• çœ‹äº†hexo init åŽçš„ blog_dir ,æ˜¾ç„¶ hexo å·²ç»è€ƒè™‘åˆ°è¿™æ–¹é¢çš„é—®é¢˜ï¼Œæ”¯æŒå°†æºæ–‡ä»¶æäº¤åˆ° git ä»“åº“ä¸­ï¼Œå› ä¸º .gitignore å·²ç»åˆå§‹åŒ–å¥½äº†ã€‚ ä½œä¸ºä¸€ä¸ªç¨å¾®æœ‰ç‚¹å„¿å¼ºè¿«ç—‡çš„ç‹®å­åº§ï¼Œå†³å®šé‡‡ç”¨æ–°å»ºåˆ†æ”¯çš„æ–¹æ³• 123456cd $blog_dirgit initgit add *git checkout -b $branch_namegit remote add origin git@github.com:xxxx/xxxx.github.io.gitgit push origin $branch_name:$branch_name éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ_config.yml ä¸­ deploy èŠ‚ç‚¹ä¸è¦æš´éœ²æ•æ„Ÿä¿¡æ¯ã€‚ åœ¨æ–°çš„å®¢æˆ·ç«¯ï¼Œåªéœ€è¦å°†ä»£ç cloneä¸‹æ¥ï¼Œcheckoutåˆ°ç›¸åº”åˆ†æ”¯ï¼Œnpm install -g hexo-cli,npm install ä¹‹åŽ new, generate, deploy å³å¯ å…³äºŽæºç çš„ç»´æŠ¤ï¼Œå¯ä»¥å°†å½“å‰ repo çš„ default branch è®¾ç½®ä¸ºæºç çš„åˆ†æ”¯ï¼Œä»¥æ–¹ä¾¿åŽç»­ç»´æŠ¤ã€‚]]></content>
    </entry>

    
  
  
</search>
